#!/bin/bash

# ================================
#   TYRKROX_GAMER ALL-IN-ONE TOOL
# ================================

clear

logo() {
echo -e "\e[35m"
echo "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—"
echo "â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•"
echo "   â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ•”â• "
echo "   â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— "
echo "   â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—"
echo "   â•šâ•â•      â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•"
echo ""
echo "        ðŸš€ TYRKROX_GAMER CONTROL PANEL ðŸš€"
echo -e "\e[0m"
}

install_panel() {
echo "Installing Panel..."
apt update -y
apt install docker.io -y
systemctl enable docker
systemctl start docker
echo "Panel installation complete!"
}

install_wings() {

echo "Enter Node ID:"
read NODE_ID

echo "Enter Token ID:"
read TOKEN_ID

echo "Enter Token:"
read TOKEN

echo "Enter Panel URL (example: https://panel.example.com):"
read PANEL_URL

echo "Installing Wings..."

mkdir -p /etc/pterodactyl
cd /etc/pterodactyl

curl -L https://github.com/pterodactyl/wings/releases/latest/download/wings_linux_amd64 -o wings
chmod +x wings

cat > /etc/pterodactyl/config.yml <<EOL
debug: false
uuid: $NODE_ID
token_id: $TOKEN_ID
token: $TOKEN
api:
  host: 0.0.0.0
  port: 8080
  ssl:
    enabled: false
remote: '$PANEL_URL'
EOL

echo "Wings installed with your configuration!"
}

panel_manager() {
echo "1. Start Panel"
echo "2. Stop Panel"
echo "3. Restart Panel"
read choice

case $choice in
1) systemctl start docker ;;
2) systemctl stop docker ;;
3) systemctl restart docker ;;
*) echo "Invalid Option" ;;
esac
}

install_proxmox() {

echo "Installing Proxmox in Docker..."

docker run -itd \
  --name proxmoxve \
  --hostname pve \
  --privileged \
  --cgroupns=host \
  --security-opt apparmor=unconfined \
  --security-opt seccomp=unconfined \
  -v /sys/fs/cgroup:/sys/fs/cgroup:rw \
  -v /lib/modules:/lib/modules:ro \
  -v /dev/fuse:/dev/fuse \
  -v /sys/kernel/debug:/sys/kernel/debug \
  -p 8006:8006 \
  --restart unless-stopped \
  rtedpro/proxmox:9.0.11

echo "Proxmox Installed!"
echo "Access: http://YOUR_SERVER_IP:8006"
}

create_vm() {
echo "Creating Sample VM..."
qm create 100 --name testvm --memory 2048 --net0 virtio,bridge=vmbr0
echo "VM Created (Example ID 100)"
}

main_menu() {
while true; do
logo
echo "----------------------------------"
echo "[1] Install Panel"
echo "[2] Install Wings"
echo "[3] Panel Manager"
echo "[4] Install Proxmox"
echo "[5] Create VM"
echo "[6] Exit"
echo "----------------------------------"
read -p "Select Option: " option

case $option in
1) install_panel ;;
2) install_wings ;;
3) panel_manager ;;
4) install_proxmox ;;
5) create_vm ;;
6) exit ;;
*) echo "Invalid Option"; sleep 2 ;;
esac

done
}

main_menu
