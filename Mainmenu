#!/usr/bin/env bash
# ==========================================
#        ðŸš€ TYRKROX NODE ðŸš€
# ==========================================

set -u

# ---- COLORS ----
C=$'\033[36m'
G=$'\033[32m'
R=$'\033[31m'
B=$'\033[34m'
Y=$'\033[33m'
W=$'\033[97m'
P=$'\033[35m'
BLINK=$'\033[5m'
N=$'\033[0m'

# ---- TYPEWRITER EFFECT ----
typewriter() {
    text="$1"
    delay=0.01
    for ((i=0; i<${#text}; i++)); do
        printf "%s" "${text:$i:1}"
        sleep $delay
    done
    printf "\n"
}

# ---- PROGRESS BAR ----
progress_bar() {
    echo -e "${C}Initializing TYRKROX NODE...${N}"
    for i in {1..30}; do
        printf "${G}#${N}"
        sleep 0.05
    done
    echo ""
    for i in {0..100..10}; do
        printf "\r${Y}Loading System: $i%%%${N}"
        sleep 0.2
    done
    echo ""
    sleep 1
}

# ---- CINEMATIC INTRO ----
intro() {
    clear
    echo -e "${P}"
    typewriter "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—"
    typewriter "â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•"
    typewriter "   â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ•”â• "
    typewriter "   â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— "
    typewriter "   â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—"
    typewriter "   â•šâ•â•      â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•"
    echo -e "${N}"
    echo ""
    typewriter "ðŸ’Ž TYRKROX NODE BOOTING..."
    sleep 1
    progress_bar
    clear
}

# ---- HEADER ----
header() {
    echo -e "${P}${BLINK}ðŸ’Ž TYRKROX NODE ðŸ’Ž${N}"
    echo -e "${Y}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${N}"
    echo ""
}

pause() {
    echo ""
    read -p "${W}ðŸ” Press [Enter] to return...${N}" dummy
}

# ---- START INTRO ----
intro

# ---- MAIN LOOP ----
while true; do
    clear
    header

    echo -e "${C} 1) ${W}ðŸ“¢ Discord Server Link${N}"
    echo -e "${C} 2) ${W}ðŸ³ Proxmox VE (Docker) Install ðŸš€${N}"
    echo -e "${C} 3) ${W}ðŸ’» VM/KVM Installer${N}"
    echo -e "${C} 4) ${W}ðŸŒ Pterodactyl Panel + Wings Installer${N}"
    echo -e "${C} 5) ${W}ðŸ–¥ï¸ Blueprint + Addon Installer${N}"
    echo -e "${C} 6) ${W}ðŸ”§ SFTP Fixer${N}"
    echo -e "${C} 7) ${W}ðŸŒ Tailscale VPN Installer${N}"
    echo -e "${R} 8) âŒ Exit${N}"

    echo ""
    echo -e "${B}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${N}"
    read -p "${Y}ðŸ‘‰ Select an option [1-8]: ${N}" choice

    case $choice in
        1)
            echo -e "${G}ðŸ”— https://discord.gg/2rYEHharqA${N}"
            pause
            ;;
        2)
            echo -e "${Y}ðŸ³ Installing Proxmox VE...${N}"
            docker run -itd \
              --name proxmoxve \
              --hostname pve \
              --privileged \
              --cgroupns=host \
              --security-opt apparmor=unconfined \
              --security-opt seccomp=unconfined \
              -v /sys/fs/cgroup:/sys/fs/cgroup:rw \
              -v /lib/modules:/lib/modules:ro \
              -v /dev/fuse:/dev/fuse \
              -v /sys/kernel/debug:/sys/kernel/debug \
              -p 8006:8006 \
              --restart unless-stopped \
              rtedpro/proxmox:9.0.11
            pause
            ;;
        3)
            bash <(curl -fsSL https://raw.githubusercontent.com/OfficialCodesHub/NOTHING/refs/heads/main/001)
            pause
            ;;
        4)
            bash <(curl -s https://pterodactyl-installer.se)
            pause
            ;;
        5)
            bash <(curl -fsSL https://raw.githubusercontent.com/OfficialCodesHub/NOTHING/refs/heads/main/002)
            pause
            ;;
        6)
            bash <(curl -fsSL https://raw.githubusercontent.com/OfficialCodesHub/NOTHING/refs/heads/main/ssh.sh)
            pause
            ;;
        7)
            curl -fsSL https://tailscale.com/install.sh | sh
            pause
            ;;
        8)
            echo -e "${G}ðŸ‘‹ TYRKROX NODE ROCKS ðŸ˜ŽðŸ”¥${N}"
            sleep 1
            exit 0
            ;;
        *)
            echo -e "${R}âŒ Invalid Option!${N}"
            sleep 1.5
            ;;
    esac
done
